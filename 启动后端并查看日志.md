# 启动后端并查看日志

## 问题

`docker-compose restart backend` 失败，说明后端容器可能没有运行。

## 解决步骤

### 1. 检查容器状态

```bash
docker-compose ps
```

查看哪些容器正在运行。

### 2. 启动所有容器（如果未运行）

```bash
docker-compose up -d
```

这会启动所有服务（postgres, backend, frontend等）。

### 3. 如果只需要启动后端

```bash
docker-compose up -d backend
```

### 4. 查看后端日志（实时）

```bash
docker-compose logs -f backend
```

### 5. 重新登录并观察日志

在浏览器中：
1. 清除浏览器缓存（F12 -> Application -> Clear storage）
2. 重新登录（admin/admin123）
3. 观察后端日志输出

你应该看到类似这样的日志：
```
uss-backend | ERROR: JWT验证失败: <具体错误信息>
uss-backend | ERROR: 请求头Authorization: Bearer <token> 或 "未找到"
```

## 如果还是看不到详细日志

执行：

```bash
# 查看最近的100行日志，过滤出ERROR和相关信息
docker-compose logs --tail=100 backend | grep -E "ERROR|JWT|Authorization|dashboard|invalid|422"
```

## 请提供

1. `docker-compose ps` 的输出
2. 后端日志中的完整错误信息（特别是包含"JWT验证失败"或"Authorization"的行）


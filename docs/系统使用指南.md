# 统一安全扫描平台 - 使用指南

## 🎉 恭喜！系统已成功部署

从截图看，系统已经正常运行，所有页面都可以访问。现在让我们开始使用系统。

## 📊 当前状态

### ✅ 已就绪的功能
- ✅ 用户登录系统
- ✅ Dashboard仪表盘
- ✅ 项目管理
- ✅ 扫描任务管理
- ✅ RASP事件监控
- ✅ 报告中心

### ⚠️ 当前显示的问题
- 项目管理页面：显示"获取项目列表失败" - 这是正常的，因为还没有创建项目
- 扫描任务页面：显示"No data" - 正常，需要先创建项目才能创建扫描任务
- RASP事件页面：显示"No data" - 正常，需要配置OpenRASP后才有事件

## 🚀 下一步操作

### 第一步：创建项目

1. **进入项目管理页面**
   - 点击左侧菜单的"项目管理"
   - 或直接访问：`http://192.168.203.141:3000/projects`

2. **创建新项目**
   - 点击右上角的"+ 新建项目"按钮
   - 填写项目信息：
     - **项目名称**：例如 "我的Web应用"
     - **项目类型**：选择项目类型（Web应用、移动应用等）
     - **描述**：项目描述（可选）
   - 点击"确定"保存

3. **验证项目创建**
   - 创建成功后，项目会出现在列表中
   - Dashboard的"项目总数"会更新

### 第二步：创建扫描任务

1. **进入扫描任务页面**
   - 点击左侧菜单的"扫描任务"
   - 或直接访问：`http://192.168.203.141:3000/scans`

2. **创建新扫描**
   - 点击右上角的"+ 新建扫描"按钮
   - 选择：
     - **项目**：选择刚才创建的项目
     - **扫描类型**：
       - **SAST** - 静态代码安全扫描
       - **SCA** - 依赖漏洞扫描
       - **容器扫描** - Docker镜像扫描
       - **RASP** - 运行时安全扫描
     - **目标**：根据扫描类型填写
       - SAST：代码仓库路径
       - SCA：项目路径
       - 容器扫描：镜像名称
       - RASP：应用ID
   - 点击"开始扫描"

3. **查看扫描结果**
   - 扫描任务会显示在列表中
   - 点击任务查看详细结果
   - Dashboard会更新扫描统计数据

### 第三步：查看RASP事件（如果配置了OpenRASP）

1. **进入RASP事件页面**
   - 点击左侧菜单的"RASP事件"
   - 或访问：`http://192.168.203.141:3000/rasp`

2. **同步事件**
   - 如果已配置OpenRASP，点击"同步事件"按钮
   - 系统会从OpenRASP API获取安全事件

3. **查看事件详情**
   - 事件会显示在列表中
   - 可以按时间范围筛选
   - 点击事件查看详细信息

### 第四步：查看报告

1. **进入报告中心**
   - 点击左侧菜单的"报告中心"
   - 或访问：`http://192.168.203.141:3000/reports`

2. **查看扫描报告**
   - 报告功能正在开发中
   - 可以查看扫描任务的详细结果
   - 未来支持导出PDF/HTML格式

## 🔍 排查API连接问题

如果看到"获取XX失败"的错误，可能是API连接问题：

### 检查后端API

```bash
# 在Ubuntu上执行
# 1. 检查后端是否运行
docker-compose ps backend

# 2. 测试API健康检查
curl http://localhost:5000/api/health

# 3. 测试项目列表API
curl -H "Authorization: Bearer YOUR_TOKEN" \
     http://localhost:5000/api/projects
```

### 检查前端API配置

```bash
# 检查前端API URL配置
docker-compose exec frontend env | grep REACT_APP_API_URL

# 应该显示：REACT_APP_API_URL=http://192.168.203.141:5000/api
```

### 查看后端日志

```bash
# 查看后端日志，观察API请求
docker-compose logs -f backend
```

## 📝 快速开始清单

- [ ] 创建第一个项目
- [ ] 创建第一个扫描任务（建议先试SAST或SCA）
- [ ] 查看扫描结果
- [ ] 查看Dashboard统计数据
- [ ] （可选）配置OpenRASP并查看RASP事件

## 🎯 推荐操作流程

### 场景1：扫描代码项目

1. **创建项目**
   - 项目名称：我的代码项目
   - 项目类型：Web应用

2. **创建SAST扫描**
   - 扫描类型：SAST
   - 目标：代码仓库路径或上传代码文件

3. **查看结果**
   - 查看发现的漏洞
   - 查看修复建议

### 场景2：扫描依赖漏洞

1. **创建项目**
   - 项目名称：我的Python项目

2. **创建SCA扫描**
   - 扫描类型：SCA
   - 目标：requirements.txt路径或上传文件

3. **查看依赖漏洞**
   - 查看已知漏洞
   - 查看修复版本

### 场景3：扫描Docker镜像

1. **创建项目**
   - 项目名称：我的Docker应用

2. **创建容器扫描**
   - 扫描类型：容器扫描
   - 目标：镜像名称（如 nginx:latest）

3. **查看镜像漏洞**
   - 查看镜像层漏洞
   - 查看基础镜像漏洞

## 💡 提示

1. **首次使用**：建议先创建一个测试项目，熟悉系统功能
2. **扫描时间**：不同类型的扫描耗时不同，请耐心等待
3. **数据展示**：如果显示"No data"，通常是正常的，需要先创建数据
4. **API错误**：如果持续看到API错误，检查后端日志

## 🆘 需要帮助？

如果遇到问题：
1. 查看浏览器控制台（F12）的错误信息
2. 查看后端日志：`docker-compose logs backend`
3. 查看前端日志：`docker-compose logs frontend`
4. 检查API连接：`curl http://localhost:5000/api/health`

---

**现在开始使用系统吧！建议先创建一个项目，然后创建第一个扫描任务。**

